public class LoggingService
{
    private static readonly List<string> _logEntries = new();
    private static readonly object _lock = new();
    private string _logFilePath;

    public void SetLogFilePath(string logFilePath)
    {
        _logFilePath = logFilePath;
    }

    public void AddLogEntry(string logEntry)
    {
        lock (_lock) 
        {
            _logEntries.Add(logEntry);
        }
    }

    public void WriteLogsToFile()
    {
        lock (_lock)
        {
            if (!string.IsNullOrEmpty(_logFilePath) && _logEntries.Any())
            {
                File.AppendAllLines(_logFilePath, _logEntries);
                _logEntries.Clear();
            }
        }
    }
}
